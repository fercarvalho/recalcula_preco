<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora de Reajuste de Preços</title>
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Patinhas decorativas -->
    <div class="patinha patinha-top-left">
        <img src="patinha.png" alt="Patinha">
    </div>
    <div class="patinha patinha-top-right">
        <img src="patinha.png" alt="Patinha">
    </div>
    <div class="patinha patinha-bottom-left">
        <img src="patinha.png" alt="Patinha">
    </div>
    <div class="patinha patinha-bottom-right">
        <img src="patinha.png" alt="Patinha">
    </div>
    
    <div class="container">
        <header>
            <div class="logo-container">
                <img src="logo.png" alt="Vira-Latas Logo" class="logo" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                <div class="logo-fallback" style="display: none;">
                    <div class="logo-circle">
                        <div class="logo-dog">
                            <div class="dog-head">
                                <div class="dog-ear dog-ear-left"></div>
                                <div class="dog-ear dog-ear-right"></div>
                                <div class="dog-face">
                                    <div class="dog-eye dog-eye-left"></div>
                                    <div class="dog-eye dog-eye-right"></div>
                                    <div class="dog-nose"></div>
                                    <div class="dog-mouth"></div>
                                </div>
                            </div>
                        </div>
                        <div class="logo-text-top">Vira-Latas</div>
                        <div class="logo-text-bottom">Hotdogs e Lanches</div>
                    </div>
                </div>
            </div>
            <h1>Calculadora de Reajuste de Preços</h1>
            <p>Selecione os itens e defina o tipo de reajuste</p>
        </header>

        <div class="main-content">
            <!-- Formulário de Reajuste -->
            <section class="reajuste-form">
                <h2>Configuração do Reajuste</h2>
                <div class="form-group">
                    <label>Tipo de Reajuste:</label>
                    <div class="radio-group">
                        <label class="radio-label">
                            <input type="radio" name="tipo-reajuste" value="fixo" checked>
                            <span>Valor Fixo (R$)</span>
                        </label>
                        <label class="radio-label">
                            <input type="radio" name="tipo-reajuste" value="percentual">
                            <span>Percentual (%)</span>
                        </label>
                    </div>
                </div>
                <div class="form-group" id="grupo-valor-fixo">
                    <label for="valor-reajuste-fixo">Valor Fixo (R$):</label>
                    <input type="number" id="valor-reajuste-fixo" step="0.01" min="0" placeholder="0,00" value="">
                    <small class="form-help">Será somado ao valor atual</small>
                </div>
                <div class="form-group" id="grupo-valor-percentual" style="display: none;">
                    <label for="valor-reajuste-percentual">Percentual (%):</label>
                    <input type="number" id="valor-reajuste-percentual" step="0.01" min="0" placeholder="0,00" value="">
                    <small class="form-help">Será aplicado sobre o valor atual</small>
                </div>
                <div class="form-actions">
                    <button id="btn-selecionar-todos" class="btn-secondary">Selecionar Todos</button>
                    <button id="btn-deselecionar-todos" class="btn-secondary">Deselecionar Todos</button>
                    <button id="btn-aplicar-reajuste" class="btn-primary">Aplicar Reajuste</button>
                    <button id="btn-resetar-dados" class="btn-secondary" title="Resetar todos os valores para os padrões">
                        <i class="fas fa-undo"></i> Resetar Valores
                    </button>
                </div>
            </section>

            <!-- Botões Adicionar -->
            <div class="adicionar-produto-section">
                <button id="btn-adicionar-produto" class="btn-adicionar-produto">
                    <i class="fas fa-plus-circle"></i> Adicionar Novo Produto
                </button>
                <button id="btn-adicionar-categoria" class="btn-adicionar-produto">
                    <i class="fas fa-folder-plus"></i> Adicionar Categoria
                </button>
                <button id="btn-gerenciar-plataformas" class="btn-adicionar-produto" style="background: #17a2b8;">
                    <i class="fas fa-store"></i> Gerenciar Plataformas
                </button>
                <button id="btn-painel-admin" class="btn-adicionar-produto" style="background: #6c757d;">
                    <i class="fas fa-cog"></i> Painel de Personalização
                </button>
            </div>

            <!-- Lista de Itens por Categoria -->
            <section class="itens-section">
                <h2>Itens Disponíveis</h2>
                <div id="categorias-container"></div>
            </section>
        </div>
    </div>

    <!-- Modal de Confirmação de Reajuste -->
    <div id="modal-confirmacao" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Confirmar Reajuste</h2>
                <span class="close-modal">&times;</span>
            </div>
            <div class="modal-body">
                <p class="modal-info">
                    <span id="modal-valor-fixo-container" style="display: none;">
                        <strong>Valor Fixo:</strong> <span id="modal-valor-fixo"></span>
                    </span>
                    <span id="modal-valor-percentual-container" style="display: none;">
                        <strong>Percentual:</strong> <span id="modal-valor-percentual"></span>
                    </span>
                </p>
                <p class="modal-subtitle">Itens que serão reajustados:</p>
                <div id="modal-itens-lista" class="modal-itens"></div>
            </div>
            <div class="modal-footer">
                <button id="btn-cancelar" class="btn-secondary">Cancelar</button>
                <button id="btn-confirmar" class="btn-primary">Confirmar</button>
            </div>
        </div>
    </div>

    <!-- Modal de Alert -->
    <div id="modal-alert" class="modal">
        <div class="modal-content modal-small">
            <div class="modal-header">
                <h2 id="modal-alert-titulo">Aviso</h2>
                <span class="close-modal" data-modal="alert">&times;</span>
            </div>
            <div class="modal-body">
                <p id="modal-alert-mensagem"></p>
            </div>
            <div class="modal-footer">
                <button id="btn-alert-ok" class="btn-primary">OK</button>
            </div>
        </div>
    </div>

    <!-- Modal de Confirm -->
    <div id="modal-confirm" class="modal">
        <div class="modal-content modal-small">
            <div class="modal-header">
                <h2 id="modal-confirm-titulo">Confirmar</h2>
                <span class="close-modal" data-modal="confirm">&times;</span>
            </div>
            <div class="modal-body">
                <p id="modal-confirm-mensagem"></p>
            </div>
            <div class="modal-footer">
                <button id="btn-confirm-cancel" class="btn-secondary">Cancelar</button>
                <button id="btn-confirm-ok" class="btn-primary">Confirmar</button>
            </div>
        </div>
    </div>

    <!-- Modal de Prompt -->
    <div id="modal-prompt" class="modal">
        <div class="modal-content modal-small">
            <div class="modal-header">
                <h2 id="modal-prompt-titulo">Informe</h2>
                <span class="close-modal" data-modal="prompt">&times;</span>
            </div>
            <div class="modal-body">
                <p id="modal-prompt-mensagem"></p>
                <div class="form-group">
                    <input type="text" id="modal-prompt-input" class="form-input" placeholder="">
                </div>
            </div>
            <div class="modal-footer">
                <button id="btn-prompt-cancel" class="btn-secondary">Cancelar</button>
                <button id="btn-prompt-ok" class="btn-primary">OK</button>
            </div>
        </div>
    </div>

    <!-- Modal de Seleção de Categoria -->
    <div id="modal-selecao-categoria" class="modal">
        <div class="modal-content modal-small">
            <div class="modal-header">
                <h2>Escolher Categoria</h2>
                <span class="close-modal" data-modal="selecao-categoria">&times;</span>
            </div>
            <div class="modal-body">
                <p>Selecione a categoria:</p>
                <div id="modal-categorias-lista" class="modal-categorias"></div>
            </div>
            <div class="modal-footer">
                <button id="btn-selecao-cancel" class="btn-secondary">Cancelar</button>
            </div>
        </div>
    </div>

    <!-- Modal de Edição/Adição de Item -->
    <div id="modal-editar-item" class="modal">
        <div class="modal-content" id="modal-editar-item-content">
            <div class="modal-header">
                <h2 id="modal-editar-item-titulo">Editar Item</h2>
                <span class="close-modal" data-modal="editar-item">&times;</span>
            </div>
            <div class="modal-body">
                <!-- Modo Edição (formulário simples) -->
                <div id="modal-editar-item-form-simples">
                    <div class="form-group">
                        <label for="modal-editar-item-nome">Nome do Item:</label>
                        <input type="text" id="modal-editar-item-nome" class="form-input" placeholder="Digite o nome do item">
                    </div>
                    <div class="form-group" id="modal-editar-item-valor-group" style="display: none;">
                        <label for="modal-editar-item-valor">Preço (R$):</label>
                        <input type="number" id="modal-editar-item-valor" class="form-input" step="0.01" min="0" placeholder="0,00">
                    </div>
                    <div class="form-group">
                        <label for="modal-editar-item-categoria">Categoria:</label>
                        <select id="modal-editar-item-categoria" class="form-input">
                            <option value="">Selecione uma categoria...</option>
                        </select>
                    </div>
                </div>
                
                <!-- Modo Adicionar Múltiplos (linhas dinâmicas) -->
                <div id="modal-editar-item-form-multiplos" style="display: none;">
                    <div class="form-group">
                        <label>Itens a Adicionar:</label>
                        <div id="modal-itens-linhas" class="itens-linhas-container">
                            <!-- Linhas serão adicionadas dinamicamente aqui -->
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button id="btn-editar-item-cancel" class="btn-secondary">Cancelar</button>
                <button id="btn-editar-item-ok" class="btn-primary">Salvar</button>
            </div>
        </div>
    </div>

    <!-- Modal de Painel Admin -->
    <div id="modal-painel-admin" class="modal">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h2>Painel de Personalização</h2>
                <span class="close-modal" data-modal="painel-admin">&times;</span>
            </div>
            <div class="modal-body">
                <div class="admin-section">
                    <h3><i class="fas fa-image"></i> Logo do Sistema</h3>
                    <div class="form-group">
                        <label for="admin-logo-upload">Selecionar Nova Logo:</label>
                        <input type="file" id="admin-logo-upload" accept="image/*" class="form-input">
                        <small class="form-help">Formatos aceitos: PNG, JPG, GIF, SVG (recomendado: PNG com fundo transparente)</small>
                    </div>
                    <div class="logo-preview-container">
                        <label>Preview da Logo:</label>
                        <div class="logo-preview">
                            <img id="logo-preview-img" src="logo.png" alt="Preview Logo" style="max-width: 200px; max-height: 200px; border-radius: 50%;">
                        </div>
                        <button id="btn-remover-logo" class="btn-secondary" style="margin-top: 10px;">
                            <i class="fas fa-trash"></i> Remover Logo
                        </button>
                    </div>
                </div>

                <div class="admin-section">
                    <h3><i class="fas fa-palette"></i> Cores do Sistema</h3>
                    <div class="color-picker-group">
                        <div class="form-group">
                            <label for="admin-cor-primaria">Cor Primária (Botões, Headers):</label>
                            <div class="color-input-wrapper">
                                <input type="color" id="admin-cor-primaria" value="#FF6B35" class="color-picker">
                                <input type="text" id="admin-cor-primaria-text" value="#FF6B35" class="color-text-input" placeholder="#FF6B35">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="admin-cor-secundaria">Cor Secundária (Botões Secundários):</label>
                            <div class="color-input-wrapper">
                                <input type="color" id="admin-cor-secundaria" value="#2a2a2a" class="color-picker">
                                <input type="text" id="admin-cor-secundaria-text" value="#2a2a2a" class="color-text-input" placeholder="#2a2a2a">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="admin-cor-fundo">Cor de Fundo:</label>
                            <div class="color-input-wrapper">
                                <input type="color" id="admin-cor-fundo" value="#1a1a1a" class="color-picker">
                                <input type="text" id="admin-cor-fundo-text" value="#1a1a1a" class="color-text-input" placeholder="#1a1a1a">
                            </div>
                        </div>
                    </div>
                    <div class="color-preview">
                        <label>Preview das Cores:</label>
                        <div class="preview-boxes">
                            <div class="preview-box" id="preview-primaria">Primária</div>
                            <div class="preview-box" id="preview-secundaria">Secundária</div>
                            <div class="preview-box" id="preview-fundo">Fundo</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button id="btn-admin-resetar" class="btn-secondary">
                    <i class="fas fa-undo"></i> Resetar para Padrão
                </button>
                <button id="btn-admin-cancel" class="btn-secondary">Cancelar</button>
                <button id="btn-admin-salvar" class="btn-primary">
                    <i class="fas fa-save"></i> Salvar Configurações
                </button>
            </div>
        </div>
    </div>

    <!-- Modal de Gerenciamento de Plataformas -->
    <div id="modal-plataformas" class="modal">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h2>Gerenciar Plataformas</h2>
                <span class="close-modal" data-modal="plataformas">&times;</span>
            </div>
            <div class="modal-body">
                <div class="admin-section">
                    <h3><i class="fas fa-store"></i> Plataformas Cadastradas</h3>
                    <div style="margin-bottom: 20px;">
                        <button id="btn-adicionar-plataforma" class="btn-primary">
                            <i class="fas fa-plus"></i> Adicionar Plataforma
                        </button>
                    </div>
                    <div id="plataformas-lista" class="plataformas-container">
                        <!-- Plataformas serão adicionadas dinamicamente aqui -->
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button id="btn-plataformas-fechar" class="btn-secondary">Fechar</button>
            </div>
        </div>
    </div>

    <!-- Modal de Adicionar/Editar Plataforma -->
    <div id="modal-plataforma-form" class="modal">
        <div class="modal-content modal-small">
            <div class="modal-header">
                <h2 id="modal-plataforma-titulo">Adicionar Plataforma</h2>
                <span class="close-modal" data-modal="plataforma-form">&times;</span>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="plataforma-nome">Nome da Plataforma:</label>
                    <input type="text" id="plataforma-nome" class="form-input" placeholder="Ex: iFood, Uber Eats, etc.">
                </div>
                <div class="form-group">
                    <label>Método de Cálculo da Taxa:</label>
                    <div class="radio-group" style="flex-direction: column; gap: 10px;">
                        <label class="radio-label">
                            <input type="radio" name="metodo-taxa" value="calcular" checked>
                            <span>Calcular automaticamente (informar vendas e cobrança)</span>
                        </label>
                        <label class="radio-label">
                            <input type="radio" name="metodo-taxa" value="direto">
                            <span>Inserir percentual diretamente</span>
                        </label>
                    </div>
                </div>
                <div id="grupo-calcular-taxa">
                    <div class="form-group">
                        <label>Período de Cálculo:</label>
                        <div class="radio-group" style="flex-direction: row; gap: 20px;">
                            <label class="radio-label">
                                <input type="radio" name="periodo-calculo" value="1" checked>
                                <span>1 mês (mês anterior)</span>
                            </label>
                            <label class="radio-label">
                                <input type="radio" name="periodo-calculo" value="3">
                                <span>3 meses (média)</span>
                            </label>
                        </div>
                    </div>
                    
                    <!-- Campos para 1 mês -->
                    <div id="campos-1-mes">
                        <div class="form-group">
                            <label for="plataforma-vendas">Total Vendido na Plataforma (R$):</label>
                            <input type="number" id="plataforma-vendas" class="form-input" step="0.01" min="0" placeholder="0,00">
                        </div>
                        <div class="form-group">
                            <label for="plataforma-cobranca">Total Cobrado pela Plataforma (R$):</label>
                            <input type="number" id="plataforma-cobranca" class="form-input" step="0.01" min="0" placeholder="0,00">
                        </div>
                    </div>
                    
                    <!-- Campos para 3 meses -->
                    <div id="campos-3-meses" style="display: none;">
                        <div class="form-group">
                            <label style="font-weight: 600; margin-bottom: 10px; display: block;">Mês 1 (mais antigo):</label>
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                                <div>
                                    <label for="plataforma-vendas-mes1" style="font-size: 0.9em;">Vendas (R$):</label>
                                    <input type="number" id="plataforma-vendas-mes1" class="form-input" step="0.01" min="0" placeholder="0,00">
                                </div>
                                <div>
                                    <label for="plataforma-cobranca-mes1" style="font-size: 0.9em;">Cobrança (R$):</label>
                                    <input type="number" id="plataforma-cobranca-mes1" class="form-input" step="0.01" min="0" placeholder="0,00">
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label style="font-weight: 600; margin-bottom: 10px; display: block;">Mês 2:</label>
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                                <div>
                                    <label for="plataforma-vendas-mes2" style="font-size: 0.9em;">Vendas (R$):</label>
                                    <input type="number" id="plataforma-vendas-mes2" class="form-input" step="0.01" min="0" placeholder="0,00">
                                </div>
                                <div>
                                    <label for="plataforma-cobranca-mes2" style="font-size: 0.9em;">Cobrança (R$):</label>
                                    <input type="number" id="plataforma-cobranca-mes2" class="form-input" step="0.01" min="0" placeholder="0,00">
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label style="font-weight: 600; margin-bottom: 10px; display: block;">Mês 3 (mais recente):</label>
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                                <div>
                                    <label for="plataforma-vendas-mes3" style="font-size: 0.9em;">Vendas (R$):</label>
                                    <input type="number" id="plataforma-vendas-mes3" class="form-input" step="0.01" min="0" placeholder="0,00">
                                </div>
                                <div>
                                    <label for="plataforma-cobranca-mes3" style="font-size: 0.9em;">Cobrança (R$):</label>
                                    <input type="number" id="plataforma-cobranca-mes3" class="form-input" step="0.01" min="0" placeholder="0,00">
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group" style="background: #e8f5e9; padding: 15px; border-radius: 8px;">
                        <label style="font-weight: 600;">Taxa Calculada:</label>
                        <div id="taxa-calculada" style="font-size: 1.2em; color: #28a745; font-weight: 600;">0%</div>
                        <small id="taxa-detalhes" style="display: block; margin-top: 5px; color: #666; font-size: 0.85em;"></small>
                    </div>
                </div>
                <div id="grupo-taxa-direta" style="display: none;">
                    <div class="form-group">
                        <label for="plataforma-taxa">Taxa da Plataforma (%):</label>
                        <input type="number" id="plataforma-taxa" class="form-input" step="0.01" min="0" max="100" placeholder="0,00">
                        <small class="form-help">Percentual que a plataforma cobra sobre cada venda</small>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button id="btn-plataforma-cancel" class="btn-secondary">Cancelar</button>
                <button id="btn-plataforma-salvar" class="btn-primary">Salvar</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>

